<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Rese√±as - Monitoreo de Calidad de Agua</title>
    <link rel="stylesheet" href="panel.css">
</head>
<body>
    
    <div class="background-shapes">
        <div class="shape shape1"></div>
        <div class="shape shape2"></div>
        <div class="shape shape3"></div>
        <div class="shape shape4"></div>
    </div>


    <div class="bubbles">
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
    </div>

    <!-- Contenedor principal -->
    <div class="admin-container">
     
        <div class="header">
            <div class="header-content">
                <h1>Panel de Rese√±as</h1>
                <p>Gestiona las rese√±as y monitorea la retroalimentaci√≥n</p>
            </div>
        </div>

        <!-- Estad√≠sticas generales -->
        <div class="stats-section">
            <div class="stats-title">
                üìä Estad√≠sticas Generales
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üìù</div>
                    <div class="stat-number" id="totalReviews">24</div>
                    <div class="stat-label">Total Rese√±as</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚≠ê</div>
                    <div class="stat-number" id="averageRating">4.2</div>
                    <div class="stat-label">Calificaci√≥n Promedio</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-number" id="totalUsers">18</div>
                    <div class="stat-label">Usuarios √önicos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìà</div>
                    <div class="stat-number" id="monthlyGrowth">+12%</div>
                    <div class="stat-label">Crecimiento Mensual</div>
                </div>
            </div>
        </div>

        <!-- Filtros y b√∫squeda -->
        <div class="filters-section">
            <div class="filters-title">
                üîç Filtros y B√∫squeda
            </div>
            <div class="filters-container">
                <div class="filter-group">
                    <label for="searchInput">Buscar por nombre o email:</label>
                    <input type="text" id="searchInput" placeholder="Escribir para buscar..." onkeyup="filterReviews()">
                    <span class="icon">üîç</span>
                </div>
                <div class="filter-group">
                    <label for="ratingFilter">Filtrar por calificaci√≥n:</label>
                    <select id="ratingFilter" onchange="filterReviews()">
                        <option value="all">Todas las calificaciones</option>
                        <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5 estrellas)</option>
                        <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê (4 estrellas)</option>
                        <option value="3">‚≠ê‚≠ê‚≠ê (3 estrellas)</option>
                        <option value="2">‚≠ê‚≠ê (2 estrellas)</option>
                        <option value="1">‚≠ê (1 estrella)</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="dateFilter">Filtrar por fecha:</label>
                    <select id="dateFilter" onchange="filterReviews()">
                        <option value="all">Todas las fechas</option>
                        <option value="today">Hoy</option>
                        <option value="week">Esta semana</option>
                        <option value="month">Este mes</option>
                    </select>
                </div>
            </div>
        </div>

       
        <div class="reviews-section">
            <div class="reviews-title">
                üí¨ Rese√±as de Usuarios
            </div>
            <div class="reviews-list" id="reviewsList">
                
            </div>
        </div>

        <!-- Botones de acci√≥n -->
        <div class="action-buttons">
            <button class="action-btn export-btn" onclick="exportReviews()">
                üì§ Exportar Rese√±as
            </button>
            <button class="action-btn back-btn" onclick="goBack()">
                üè† Regresar al Inicio
            </button>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Panel de Administraci√≥n - Monitoreo de Calidad de Agua</p>
        </div>
    </div>

    <script>
        
        const reviewsData = [
            {
                id: 1,
                firstName: "Mar√≠a",
                lastName: "Gonz√°lez",
                email: "maria@email.com",
                phone: "123-456-7890",
                review: "Excelente sistema de monitoreo. Los datos son precisos y la interfaz es muy intuitiva. Me ha ayudado mucho a controlar la calidad del agua en mi laboratorio.",
                rating: 5,
                date: "2025-01-15",
                status: "activa"
            },
            {
                id: 2,
                firstName: "Carlos",
                lastName: "Rodr√≠guez",
                email: "carlos@email.com",
                phone: "987-654-3210",
                review: "Muy buena herramienta, aunque podr√≠a mejorar la velocidad de actualizaci√≥n de los datos en tiempo real.",
                rating: 4,
                date: "2025-01-14",
                status: "activa"
            },
            {
                id: 3,
                firstName: "Ana",
                lastName: "Mart√≠nez",
                email: "ana@email.com",
                phone: "555-123-4567",
                review: "Sistema funcional pero la interfaz podr√≠a ser m√°s moderna. Los reportes son √∫tiles.",
                rating: 3,
                date: "2025-01-13",
                status: "activa"
            },
            {
                id: 4,
                firstName: "Luis",
                lastName: "Herrera",
                email: "luis@email.com",
                phone: "444-555-6666",
                review: "Incre√≠ble precisi√≥n en las mediciones. El dashboard es muy completo y f√°cil de usar. Totalmente recomendado.",
                rating: 5,
                date: "2025-01-12",
                status: "activa"
            },
            {
                id: 5,
                firstName: "Elena",
                lastName: "Vargas",
                email: "elena@email.com",
                phone: "777-888-9999",
                review: "Buen sistema en general, pero he tenido algunos problemas con la conectividad de los sensores.",
                rating: 3,
                date: "2025-01-11",
                status: "activa"
            }
        ];

      
        document.addEventListener('DOMContentLoaded', function() {
            renderReviews(reviewsData);
            updateStats();
        });

     
        function renderReviews(reviews) {
            const reviewsList = document.getElementById('reviewsList');
            reviewsList.innerHTML = '';

            reviews.forEach(review => {
                const reviewCard = document.createElement('div');
                reviewCard.className = 'review-card';
                reviewCard.innerHTML = `
                    <div class="review-header">
                        <div class="user-info">
                            <div class="user-avatar">üë§</div>
                            <div class="user-details">
                                <h3>${review.firstName} ${review.lastName}</h3>
                                <p class="user-contact">üìß ${review.email} | üìû ${review.phone}</p>
                            </div>
                        </div>
                        <div class="review-meta">
                            <div class="rating-display">
                                ${'‚≠ê'.repeat(review.rating)}
                            </div>
                            <div class="review-date">üìÖ ${formatDate(review.date)}</div>
                        </div>
                    </div>
                    <div class="review-content">
                        <p>${review.review}</p>
                    </div>
                    <div class="review-actions">
                        <button class="action-btn-small respond-btn" onclick="respondToReview(${review.id})">
                            üí¨ Responder
                        </button>
                        <button class="action-btn-small edit-btn" onclick="editReview(${review.id})">
                            ‚úèÔ∏è Editar
                        </button>
                        <button class="action-btn-small delete-btn" onclick="deleteReview(${review.id})">
                            üóëÔ∏è Eliminar
                        </button>
                    </div>
                `;
                reviewsList.appendChild(reviewCard);
            });
        }

        
        function filterReviews() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const ratingFilter = document.getElementById('ratingFilter').value;
            const dateFilter = document.getElementById('dateFilter').value;

            let filteredReviews = reviewsData.filter(review => {
                const matchesSearch = review.firstName.toLowerCase().includes(searchTerm) || 
                                    review.lastName.toLowerCase().includes(searchTerm) ||
                                    review.email.toLowerCase().includes(searchTerm);
                
                const matchesRating = ratingFilter === 'all' || review.rating.toString() === ratingFilter;
                
                const matchesDate = dateFilter === 'all' || checkDateFilter(review.date, dateFilter);
                
                return matchesSearch && matchesRating && matchesDate;
            });

            renderReviews(filteredReviews);
        }

        function checkDateFilter(reviewDate, filter) {
            const today = new Date();
            const reviewDateObj = new Date(reviewDate);
            
            switch(filter) {
                case 'today':
                    return reviewDateObj.toDateString() === today.toDateString();
                case 'week':
                    const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);
                    return reviewDateObj >= weekAgo;
                case 'month':
                    const monthAgo = new Date(today.getTime() - 30 * 24 * 60 * 60 * 1000);
                    return reviewDateObj >= monthAgo;
                default:
                    return true;
            }
        }

        // Funci√≥n para formatear fecha
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('es-ES', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        // Funci√≥n para actualizar estad√≠sticas
        function updateStats() {
            const totalReviews = reviewsData.length;
            const averageRating = (reviewsData.reduce((sum, review) => sum + review.rating, 0) / totalReviews).toFixed(1);
            const uniqueUsers = new Set(reviewsData.map(review => review.email)).size;
            
            document.getElementById('totalReviews').textContent = totalReviews;
            document.getElementById('averageRating').textContent = averageRating;
            document.getElementById('totalUsers').textContent = uniqueUsers;
        }

        
        function respondToReview(reviewId) {
            alert(`Respondiendo a la rese√±a #${reviewId}`);
        }

        function editReview(reviewId) {
            alert(`Editando rese√±a #${reviewId}`);
        }

        function deleteReview(reviewId) {
            if (confirm('¬øEst√°s seguro de que quieres eliminar esta rese√±a?')) {
                alert(`Rese√±a #${reviewId} eliminada`);
                
            }
        }

        function exportReviews() {
            alert('Exportando rese√±as...');
        }

        function goBack() {
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>